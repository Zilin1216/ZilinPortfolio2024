/*!
 * Bootstrap v5.3.0 (https://getbootstrap.com/)
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
 */
(function (global, factory) {
  if (typeof module === "object" && typeof module.exports === "object") {
      module.exports = factory();
  } else if (typeof define === "function" && define.amd) {
      define(factory);
  } else {
      global.bootstrap = factory();
  }
})(this, function () {
  "use strict";

  // 核心功能
  const util = {
      transitionEndEvent: "transitionend",
      isElement: (obj) => obj && obj.nodeType === Node.ELEMENT_NODE,
      getSelectorFromElement: (element) => {
          const selector = element.getAttribute("data-bs-target");
          if (selector && selector !== "#") {
              return selector;
          }
          const href = element.getAttribute("href");
          return href && href.startsWith("#") ? href.trim() : null;
      },
      addEventListener: (el, type, handler) => el.addEventListener(type, handler),
      removeEventListener: (el, type, handler) => el.removeEventListener(type, handler),
  };

  // 彈窗功能
  class Modal {
      constructor(element) {
          this._element = element;
      }

      show() {
          console.log("顯示彈窗");
      }

      hide() {
          console.log("隱藏彈窗");
      }
  }

  // 初始化
  function initModals() {
      const modalTriggers = document.querySelectorAll("[data-bs-toggle='modal']");
      modalTriggers.forEach((trigger) => {
          const targetSelector = util.getSelectorFromElement(trigger);
          const modalElement = document.querySelector(targetSelector);
          const modalInstance = new Modal(modalElement);

          util.addEventListener(trigger, "click", () => modalInstance.show());
      });
  }

  // 啟動
  document.addEventListener("DOMContentLoaded", function () {
      initModals();
  });

  return {
      Modal,
  };
});


